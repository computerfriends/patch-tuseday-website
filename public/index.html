<!DOCTYPE html>
<html>
  <head>
    <title>Is it Patch Tuseday?</title>
    <meta charset="UTF-8" />

    <link rel="stylesheet" href="https://unpkg.com/98.css@0.1.4/build/98.css" />
    <style>
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    </style>
    <script src="https://code.jquery.com/jquery-4.0.0.js"></script>

    <script>

        $.getJSON('https://isitpatchtuseday.com/api/v1/patchtuseday')
            .done(function(response) {
              if ($(response.isPatchTuseday) === true) {
                  document.getElementById("pTuseday").innerHTML = "<p>Patch Tuseday: YES</p>"
              } else {
                  document.getElementById("pTuseday").innerHTML = "<p>Patch Tuseday: NO</p>"
              }

              if ($(response.isBWeek) === true) {
                  document.getElementById("bWeek").innerHTML = "<p>B week: YES</p>"
              } else {
                  document.getElementById("bWeek").innerHTML = "<p>B week: NO</p>"
              }
            })
            .fail(function(jqXHR, textStatus, error) {
              console.log("Error calling API!" + error)
              document.getElementById("pTuseday").innerHTML =  "<p>Patch Tuseday: Error calling API!</p>"
              document.getElementById("bWeek").innerHTML =  "<p>B week: Error calling API!</p>"


            })

    </script>

  </head>
<style>
body {
  background-image: url('images/win98.png');
}
</style>
  <body>
    <div class="container">
    <div class="window" style="margin: 32px; width: 500px">
      <div class="title-bar">
        <div class="title-bar-text">
          Is it Patch Tuseday?
        </div>

        <div class="title-bar-controls">
          <button aria-label="Minimize"></button>
          <button aria-label="Maximize"></button>
          <button aria-label="Close"></button>
        </div>
      </div>
      <div class="window-body">
        <p id="pTuseday">Patch Tuseday: Loading...</p>
        <p id="bWeek">B week: Loading...</p>
        <section class="field-row" style="justify-content: flex-end">
          <button>OK</button>
        </section>
      </div>
    </div>
    <div class="window" style="width: 320px">
      <div class="title-bar">
        <div class="title-bar-text">Pro Tip!</div>
      </div>
      <div class="window-body">
        <p><strong> Use the API to let your scripts detect if it's Patch Tuseday! </strong></p>
        <p1>
        GET https://isitpatchtuseday.com/api/v1/patchtuseday <br>
        will return <br>
        {"isPatchTuseday":bool,"isBWeek":bool}
        </p1>
      </div>
      <div class="status-bar">
        <p class="status-bar-field">Made by Computer Friends</p>
        <p class="status-bar-field"><a href="https://github.com/computerfriends">View on GitHub</a></p>
        <p class="status-bar-field"><a href="https://www.youtube.com/watch?v=dmEvPZUdAVI">Return to DOS</a></p>
      </div>
    </div>
    </div>
  </body>
</html>
