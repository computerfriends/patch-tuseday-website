<!DOCTYPE html>
<html>
  <head>
    <title>Is it Patch Tuesday?</title>
    <meta charset="UTF-8" />

    <link rel="stylesheet" href="https://unpkg.com/98.css" />
    <style>
    body {
      background-image: url('images/win98.png');
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    </style>
    <script src="https://code.jquery.com/jquery-4.0.0.js"></script>

    <script>

        $.getJSON('https://isitpatchtuesday.app/api/v1/patchtuesday')
            .done(function(response) {
              if ($(response.isPatchTuesday) === true) {
                  document.getElementById("pTuesday").innerHTML = "<p>Patch Tuesday: <strong>YES</strong></p>"
              } else {
                  document.getElementById("pTuesday").innerHTML = "<p>Patch Tuesday: <strong>NO</strong></p>"
              }

              if ($(response.isBWeek) === true) {
                  document.getElementById("bWeek").innerHTML = "<p>B week: <strong>YES</strong></p>"
              } else {
                  document.getElementById("bWeek").innerHTML = "<p>B week: <strong>NO</strong></p>"
              }
            })
            .fail(function(jqXHR, textStatus, error) {
              console.log("Error calling API!" + error)
              document.getElementById("pTuesday").innerHTML =  "<p>Patch Tuesday: Error calling API!</p>"
              document.getElementById("bWeek").innerHTML =  "<p>B week: Error calling API!</p>"


            })

    </script>

  </head>
  <body>
    <div class="container">
    <div class="window" style="margin: 32px; width: 350px">
      <div class="title-bar">
        <div class="title-bar-text">
          Is it Patch Tuesday?
        </div>

        <div class="title-bar-controls">
          <button aria-label="Minimize"></button>
          <button aria-label="Maximize"></button>
          <button aria-label="Close"></button>
        </div>
      </div>
      <div class="window-body">
        <p id="pTuesday">Patch Tuesday: Loading...</p>
        <p id="bWeek">B week: Loading...</p>
        <section class="field-row" style="justify-content: flex-end">
          <button>OK</button>
        </section>
      </div>
    </div>
    <div class="window" style="width: 320px">
      <div class="title-bar">
        <div class="title-bar-text">Pro Tip!</div>
      </div>
      <div class="window-body">
        <p><strong> Use the API to let your scripts detect if it's Patch Tuesday! </strong></p>
        <p>
        GET https://isitpatchtuesday.app/api/v1/patchtuesday <br><br>
        will return <br><br>
        { <br><br>
          "isPatchTuesday":bool, <br><br>
          "isBWeek":bool <br><br>
        }
        </p>
      </div>
      <div class="status-bar">
        <p class="status-bar-field">Made by Computer Friends</p>
        <p class="status-bar-field"><a href="https://github.com/computerfriends">View on GitHub</a></p>
        <p class="status-bar-field"><a href="https://www.youtube.com/watch?v=dmEvPZUdAVI">Return to DOS</a></p>
      </div>
    </div>
    </div>
  </body>
</html>
